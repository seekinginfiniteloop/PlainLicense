name: Spellcheck
on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main
  workflow_dispatch:

jobs:
  run:
    name: Spell Check with Typos
    runs-on: ubuntu-latest
    steps:
    - name: Checkout Actions Repository
      uses: actions/checkout@v4

    - name: Check spelling of english files and make changes
      uses: crate-ci/typos@master
      with:
        config: "./_typos.toml"
        write_changes: true

    - name: auto commit the minified files
      uses: stefanzweifel/git-auto-commit-action@v5
      with:
        commit_message: "bot(site): Corrected spelling mistakes"
