"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.baseProject = exports.GHActions = exports.nodeConfig = exports.webConfig = void 0;
const esbuild_css_modules_plugin_1 = require("@asn.aeb/esbuild-css-modules-plugin");
const esbuild_plugin_copy_1 = __importDefault(require("esbuild-plugin-copy"));
const jsBanner = `/**
 * ---DO NOT EDIT THIS FILE---
 * it is generated by the build process
 * instead edit the source file
 *
 * main site sources are in src/javascripts directory
 */
`;
const cssBanner = `/**
  * ---DO NOT EDIT THIS FILE---
  * it is generated by the build process
  * instead edit the source file
  *
  * sources are in src/stylesheets directory
  *
  */
`;
const ciBanner = `/**
  * ---DO NOT EDIT THIS FILE---
  * it is generated by the build process
  * instead edit the source file
  *
  * sources are in .github/src directory
  */
  `;
exports.webConfig = {
    bundle: true,
    minify: true,
    sourcemap: true,
    metafile: true,
    banner: { js: jsBanner, css: cssBanner },
    format: "esm",
    platform: "browser",
    target: "es2018",
    outbase: "src",
    chunkNames: "chunks/[name].[hash]",
    assetNames: "[dir]/[name].[hash]",
    outdir: "docs/assets",
    loader: {
        ".js": "js",
        ".ts": "ts",
        ".tsx": "tsx",
        ".css": "css",
        ".scss": "css",
        ".sass": "css",
        ".woff": "file",
        ".woff2": "file",
        ".png": "file",
        ".svg": "file",
        ".webp": "file",
        ".avif": "file",
    },
    outExtension: { ".js": ".js", ".css": ".css" },
    allowOverwrite: true,
    splitting: true,
    plugins: [
        (0, esbuild_css_modules_plugin_1.cssModulesPlugin)({
            emitCssBundle: {
                filename: "bundle.css",
            },
        }),
        (0, esbuild_plugin_copy_1.default)({
            watch: true,
            verbose: true,
            resolveFrom: "cwd",
            assets: [
                { from: "./src/images/**/*", to: "./docs/assets/images" },
                { from: "./src/fonts", to: "./docs/assets/fonts" },
            ],
        }),
    ],
};
exports.nodeConfig = {
    loader: exports.webConfig.loader,
    format: "esm",
    bundle: true,
    metafile: false,
    banner: { js: ciBanner },
    platform: "node",
    target: "node18",
    sourcemap: false,
    minify: false,
    splitting: false,
    plugins: [],
    allowOverwrite: true,
    outExtension: { '.js': '.mjs' }
};
exports.GHActions = [
    {
        // Build GitHub actions
        entryPoints: [".github/src/generate-changelog.ts"],
        entryNames: "[dir]/[name]",
        outdir: ".github/scripts",
        tsconfig: ".github/tsconfig.json",
        platform: "node",
    },
];
exports.baseProject = {
    entryPoints: [
        "./src/javascripts/index.ts",
        "./src/stylesheets/bundle.css",
    ],
    tsconfig: "tsconfig.json",
    entryNames: "[dir]/[name].[hash]",
    platform: "browser",
    outdir: "docs/assets",
};
//# sourceMappingURL=index.js.map