"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.baseProject = exports.GHActions = exports.nodeConfig = exports.webConfig = exports.paths = void 0;
const esbuild_css_modules_plugin_1 = require("@asn.aeb/esbuild-css-modules-plugin");
exports.paths = {
    "styleSheets": [
        "src/stylesheets/palette.scss",
        "src/stylesheets/main.scss",
        "src/stylesheets/colors.css",
        "src/stylesheets/extra.css",
        "src/stylesheets/license.css",
        "src/stylesheets/home.css",
        "src/stylesheets/heroimages.css"
    ],
    "scripts": [
        "src/javascripts/bundle.ts",
        "src/javascripts/index.ts"
    ],
    "fonts": [
        "src/fonts/*.woff",
        "src/fonts/*.woff2",
    ],
    "images": [
        "src/images/hero/**/*.avif",
        "src/images/*.svg",
        "src/images/*.png"
    ]
};
const jsBanner = `/**
 * ---DO NOT EDIT THIS FILE---
 * it is generated by the build process
 * instead edit the source file
 *
 * main site sources are in src/javascripts directory
 **
`;
const cssBanner = `/**
  * ---DO NOT EDIT THIS FILE---
  * it is generated by the build process
  * instead edit the source file
  *
  * sources are in src/stylesheets directory
  *
  **
`;
const ciBanner = `/**
  * ---DO NOT EDIT THIS FILE---
  * it is generated by the build process
  * instead edit the source file
  *
  * sources are in .github/src directory
  **
  `;
exports.webConfig = {
    bundle: true,
    minify: true,
    sourcemap: true,
    metafile: true,
    banner: { js: jsBanner, css: cssBanner },
    format: "esm",
    platform: "browser",
    target: "es2018",
    outbase: "docs/assets/",
    chunkNames: "chunks/[name].[hash]",
    assetNames: "[name].[hash]",
    outdir: "src",
    loader: {
        ".js": "js",
        ".ts": "ts",
        ".tsx": "tsx",
        ".css": "css",
        ".scss": "css",
        ".sass": "css",
        ".woff": "file",
        ".woff2": "file",
        ".png": "file",
        ".svg": "file",
        ".webp": "file",
        ".avif": "file",
    },
    outExtension: { ".js": ".mjs" },
    allowOverwrite: true,
    splitting: true,
    plugins: [
        (0, esbuild_css_modules_plugin_1.cssModulesPlugin)({
            emitCssBundle: {
                path: "stylesheets",
                filename: "bundle.css",
            },
        }),
    ],
};
exports.nodeConfig = {
    loader: exports.webConfig.loader,
    format: "esm",
    bundle: true,
    metafile: false,
    banner: { js: ciBanner },
    platform: "node",
    target: "node18",
    sourcemap: false,
    minify: false,
    splitting: false,
    plugins: [],
    allowOverwrite: true,
    outExtension: { '.js': '.mjs' }
};
exports.GHActions = [
    {
        // Build GitHub actions
        entryPoints: [".github/src/generate-changelog.ts"],
        entryNames: "[dir]/[name]",
        outdir: ".github/scripts",
        tsconfig: ".github/tsconfig.json",
        platform: "node",
    },
];
const baseConfigEntryPoints = [];
for (const key in exports.paths) {
    baseConfigEntryPoints.push(...exports.paths[key]);
}
exports.baseProject = {
    entryPoints: baseConfigEntryPoints,
    tsconfig: "tsconfig.json",
    entryNames: "[dir]/[name].[hash]",
    platform: "browser",
    outdir: "docs/assets",
};
//# sourceMappingURL=index.js.map